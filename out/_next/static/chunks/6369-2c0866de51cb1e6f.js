"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6369],{12300:function(e,n,a){a.d(n,{Z:function(){return x}});var r=a(85893),t=a(79172),l=a(83321),i=a(67294),o=a(15861),s=a(65834),d=a(95534),c=a(83461);var u=function(e){var n=e.api,a=e.headers,t=e.data,o=(0,i.useState)(!1),s=o[0],u=o[1];return(0,i.useEffect)((function(){(null===t||void 0===t?void 0:t.length)>0&&u(!0)}),[t,s]),(0,r.jsxs)(l.Z,{sx:{mr:4,mb:2},color:"secondary",variant:"outlined",startIcon:(0,r.jsx)(d.Z,{fontSize:"small"}),onClick:function(){u(!1),n()},children:["\u062e\u0631\u0648\u062c\u06cc",s?(0,r.jsx)(c.CSVDownload,{data:t,headers:a,target:"_blank"}):null]})};var x=function(e){var n=e.toggle,a=e.data,i=e.headers,d=e.api,c=e.name,x=e.noAdd,m=e.children,f=e.noExport,h=e.withTitle;return(0,r.jsxs)(t.Z,{sx:{p:5,pb:0,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(t.Z,{children:[!f&&(0,r.jsx)(u,{api:d,headers:i,data:a}),h&&(0,r.jsx)(o.Z,{variant:"h6",children:c})]}),(0,r.jsxs)(t.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:2},children:[m,!x&&(0,r.jsxs)(l.Z,{sx:{mb:2},onClick:n,variant:"contained",startIcon:(0,r.jsx)(s.Z,{}),children:["\u0627\u0641\u0632\u0648\u062f\u0646 ",c]})]})]})}},46893:function(e,n,a){var r=a(85893),t=a(67294),l=a(1031),i=a(4718),o=a(50853);function s(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function d(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(n){s(e,n,a[n])}))}return e}n.Z=function(e){var n=e.data,a=e.columns,c=e.sortModel,u=e.setSortModel,x=e.selfFilter,m=e.noFilter,f=e.pageSizeDefault,h=(0,t.useState)(f||10),p=h[0],b=h[1],g=(0,t.useState)(0),v=g[0],j=g[1],Z=(0,t.useState)({}),_=Z[0],y=Z[1],C=(0,t.useCallback)((function(e){var n,a;(y(e),0!==Object.keys(e).length&&void 0!==(null===(n=e.items[0])||void 0===n?void 0:n.value))?u(d({},c,{search:s({},e.items[0].columnField.split(" ")[1],null===(a=e.items[0])||void 0===a?void 0:a.value)})):u(d({},c,{search:""}))}),[_,y]);return(0,r.jsx)(l._,{autoHeight:!0,pagination:!0,rows:n,columns:a,pageSize:p,disableSelectionOnClick:!0,rowsPerPageOptions:[p],sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},paginationMode:!x&&"server",onPageSizeChange:function(e){b(e),u(d({},c,{page_size:e}))},localeText:i.T.components.MuiDataGrid.defaultProps.localeText,disableColumnSelector:!0,sortingMode:!x&&"server",onSortModelChange:function(e){var n,a,r=0!==e.length?"".concat(null===(n=e[0])||void 0===n?void 0:n.field," ").concat(null===(a=e[0])||void 0===a?void 0:a.sort):"1 asc";u(d({},c,{sort_by:"".concat(r)}))},onPageChange:function(e){j(e),u(d({},c,{page:e+1}))},page:v,rowCount:50,onFilterModelChange:C,components:!m&&{Toolbar:o.M}})}},96369:function(e,n,a){a.r(n);var r=a(85893),t=a(67294),l=a(58826),i=a(11496),o=a(50135),s=a(15861),d=a(79172),c=a(94054),u=a(74231),x=a(95496),m=a(42283),f=a(42734),h=a(74931),p=a(86886),b=a(46893),g=a(55113),v=a(91453),j=a(12300),Z=(0,i.ZP)(d.Z)((function(e){var n=e.theme;return{display:"flex",alignItems:"center",padding:n.spacing(3,4),justifyContent:"space-between",backgroundColor:n.palette.background.default}})),_=u.Ry().shape({hub_destination_name:u.Z_(),hub_source_name:u.Z_(),logistic_name:u.Z_(),manifest_id:u.Rx()}),y=(0,i.ZP)(g.Z)({flexGrow:1,".MuiDataGrid-root":{border:"none"},".MuiTablePagination-displayedRows":{display:"none"}});n.default=function(e){var n=e.open,a=e.toggle,i=e.user,u=e.showUser,g=(0,t.useState)([]),C=g[0],w=g[1],k=(0,t.useState)([]),M=k[0],P=k[1],S=(0,t.useState)({page:1,page_size:10,sort_by:"id desc"}),W=S[0],I=S[1],D={hub_destination_name:"",hub_source_name:"",logistic_name:"",manifest_id:0},B=i||D,z=(0,m.cI)({defaultValues:B,mode:"onChange",resolver:(0,x.X)(_)}),O=z.reset,T=z.control,N=z.formState.errors,F=function(){a(),O(D)},E=[{flex:.1,field:"id",minWidth:50,headerName:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0641\u0627\u0631\u0634",filterable:!1,hideable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(s.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:n.id})})}},{flex:.1,minWidth:50,field:"barname_id",headerName:"\u0634\u0645\u0627\u0631\u0647 \u0628\u0627\u0631\u0646\u0627\u0645\u0647",sortable:!1,hideable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,r.jsx)(s.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:n.barname_id})})})}},{flex:.1,minWidth:50,field:"weight",headerName:" \u0648\u0632\u0646 \u0628\u0647 \u06a9\u06cc\u0644\u0648 \u06af\u0631\u0645",sortable:!1,hideable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,r.jsxs)(s.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:[n.weight,"\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645"]})})})}},{flex:.1,minWidth:50,field:"accountant_weight",headerName:"\u0648\u0632\u0646 \u0645\u062d\u062a\u0633\u0628",sortable:!1,hideable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,r.jsx)(s.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:n.accountant_weight})})})}},{flex:.1,field:"payment_method",minWidth:50,headerName:"\u0646\u0648\u0639 \u062a\u0633\u0648\u06cc\u0647",hideable:!1,sortable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(s.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:n.payment_method})})}},{flex:.1,field:"price",minWidth:50,headerName:"\u0645\u0628\u0644\u063a ",hideable:!1,sortable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsxs)(s.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:[n.price,"\u0631\u06cc\u0627\u0644"]})})}}];return(0,t.useEffect)((function(){P([]),(0,v.fetchManifest)(i.id).then((function(e){null===e.data.manifests?w([]):(O(e.data.manifests),w(e.data.manifests.sub_manifests))})).catch((function(e){var n,a,r=(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)?e.response.data.message:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a";h.ZP.error(r)}))}),[P]),(0,r.jsxs)(l.ZP,{open:n,anchor:"left",variant:"temporary",onClose:F,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:"100%",lg:"80%",xl:"80%"}}},children:[(0,r.jsxs)(Z,{children:[(0,r.jsx)(s.Z,{variant:"h6",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0644\u0627\u062c\u0633\u062a\u06cc\u06a9"}),(0,r.jsx)(f.Z,{fontSize:"small",onClick:F,sx:{cursor:"pointer"}})]}),(0,r.jsx)(d.Z,{sx:{p:5,"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"rgba(76,78,100,0.87)"},"& \t.MuiInputLabel-root.Mui-disabled":{WebkitTextFillColor:"rgba(76,78,100,0.87)"}},children:(0,r.jsx)("form",{children:(0,r.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,xl:3,children:(0,r.jsx)(c.Z,{fullWidth:!0,sx:{mb:4},children:(0,r.jsx)(m.Qr,{name:"manifest_id",control:T,rules:{required:!0},render:function(e){var n=e.field,a=n.value,t=n.onChange,l=n.onBlur;return(0,r.jsx)(o.Z,{label:"\u0634\u0645\u0627\u0631\u0647 \u0645\u0627\u0646\u06cc\u0641\u0633\u062a",value:a,onBlur:l,onChange:t,error:Boolean(N.manifest_id),disabled:u,dir:"ltr"})}})})}),(0,r.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,xl:3,children:(0,r.jsx)(c.Z,{fullWidth:!0,sx:{mb:4},children:(0,r.jsx)(m.Qr,{name:"logistic_name",control:T,rules:{required:!0},render:function(e){var n=e.field,a=n.value,t=n.onChange,l=n.onBlur;return(0,r.jsx)(o.Z,{label:"\u0646\u0627\u0645 \u0644\u0627\u062c\u0633\u062a\u06cc\u06a9",value:a,onBlur:l,onChange:t,error:Boolean(N.logistic_name),disabled:u})}})})}),(0,r.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,xl:3,children:(0,r.jsx)(c.Z,{fullWidth:!0,sx:{mb:4},children:(0,r.jsx)(m.Qr,{name:"hub_source_name",control:T,rules:{required:!0},render:function(e){var n=e.field,a=n.value,t=n.onChange,l=n.onBlur;return(0,r.jsx)(o.Z,{label:"\u0645\u0628\u062f\u0627",value:a,onBlur:l,onChange:t,error:Boolean(N.hub_source_name),disabled:u})}})})}),(0,r.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,xl:3,children:(0,r.jsx)(c.Z,{fullWidth:!0,sx:{mb:4},children:(0,r.jsx)(m.Qr,{name:"hub_destination_name",control:T,rules:{required:!0},render:function(e){var n=e.field,a=n.value,t=n.onChange,l=n.onBlur;return(0,r.jsx)(o.Z,{label:"\u0645\u0642\u0635\u062f",value:a,onBlur:l,onChange:t,error:Boolean(N.hub_destination_name),disabled:u})}})})}),(0,r.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:(0,r.jsxs)(y,{children:[(0,r.jsx)(j.Z,{noAdd:!0,name:"\u0645\u0627\u0646\u06cc\u0641\u0633\u062a",api:function(){return h.ZP.promise((0,v.fetchManifest)(i.id).then((function(e){null===e.data.manifests?P([]):P(e.data.manifests.sub_manifests)})),{loading:"\u062f\u0631 \u062d\u0627\u0644 \u062f\u0627\u0646\u0644\u0648\u062f",success:"\u062f\u0627\u0646\u0644\u0648\u062f \u0627\u0646\u062c\u0627\u0645 \u0634\u062f",error:function(e){var n,a,r,t;return(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)?null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a.\u0627\u0632 \u062e\u0627\u0644\u06cc \u0646\u0628\u0648\u062f\u0646 \u0645\u0648\u0627\u0631\u062f \u062f\u0627\u0646\u0644\u0648\u062f \u0645\u0637\u0645\u0626\u0646 \u0634\u0648\u06cc\u062f."}})},headers:[{key:"accountant_weight",label:"\u0648\u0632\u0646 \u0645\u062d\u062a\u0633\u0628"},{key:"barname_id",label:"\u0634\u0645\u0627\u0631\u0647 \u0628\u0627\u0631\u0646\u0627\u0645\u0647"},{key:"content",label:"\u0645\u062d\u062a\u0648\u06cc\u0627\u062a"},{key:"manifest_id",label:"\u0634\u0645\u0627\u0631\u0647 \u0645\u0627\u0646\u06cc\u0641\u0633\u062a"},{key:"payment_method",label:"\u0631\u0648\u0634 \u067e\u0631\u062f\u0627\u062e\u062a"},{key:"receiver_name",label:"\u06af\u06cc\u0631\u0646\u062f\u0647"},{key:"sender_name",label:"\u0641\u0631\u0633\u062a\u0646\u062f\u0647"},{key:"weight",label:"\u0648\u0632\u0646"}],data:M}),(0,r.jsx)(b.Z,{data:C,pageSizeDefault:"100",noFilter:!0,sortModel:W,setSortModel:I,columns:E})]})})]})})})]})}}}]);