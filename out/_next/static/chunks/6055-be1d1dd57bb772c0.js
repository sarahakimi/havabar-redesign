"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6055],{66055:function(e,n,r){r.r(n);var a=r(85893),o=r(67294),l=r(58826),i=r(11057),s=r(11496),t=r(50135),d=r(15861),u=r(79172),c=r(94054),m=r(56815),h=r(74231),x=r(2638),p=r(42283),f=r(42734),v=r(64666),g=r(33090),j=r(6514),Z=r(31425),_=r(5370),b=r(58951),C=r(47312),y=r(57709),B=r(87109),w=r(93946),q=r(95898),k=r(42218),N=(0,s.ZP)(u.Z)((function(e){var n=e.theme;return{display:"flex",alignItems:"center",padding:n.spacing(3,4),justifyContent:"space-between",backgroundColor:n.palette.background.default}})),S=h.Ry().shape({natural_code:h.Z_().required("\u06a9\u062f\u0645\u0644\u06cc  \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").matches(/d*/,"\u06a9\u062f\u0645\u0644\u06cc \u0628\u0627\u06cc\u062f \u0639\u062f\u062f \u0628\u0627\u0634\u062f").test("len","\u06a9\u062f\u0645\u0644\u06cc \u0628\u0627\u06cc\u062f 10 \u0631\u0642\u0645 \u0628\u0627\u0634\u062f",(function(e){return 10===e.toString().length})),adminName:h.Z_().required("\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").min(5,"\u0641\u06cc\u0644\u062f \u0631\u0627 \u0628\u0647 \u062f\u0631\u0633\u062a\u06cc \u067e\u0631 \u06a9\u0646\u06cc\u062f"),phone:h.Z_().required("\u0645\u0648\u0628\u0627\u06cc\u0644 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").matches(/d*/," \u0645\u0648\u0628\u0627\u06cc\u0644 \u0628\u0627\u06cc\u062f \u0639\u062f\u062f \u0628\u0627\u0634\u062f \u0648 \u0628\u0627 09 \u0634\u0631\u0648\u0639 \u0634\u0648\u062f").test("len","\u0645\u0648\u0628\u0627\u06cc\u0644 \u0628\u0627\u06cc\u062f 11 \u0631\u0642\u0645 \u0628\u0627\u0634\u062f",(function(e){return 11===e.toString().length})),name:h.Z_().required("\u0646\u0627\u0645 \u0634\u0631\u06a9\u062a \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").min(4,"\u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f \u0639 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),username:h.Z_().required("\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").min(4,"\u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f \u0639 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),password:h.Z_().required("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").min(4,"\u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f \u0639 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f"),duration_of_activity:h.Rx().required(" \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a").min(1,"\u062d\u062f\u0627\u0642\u0644 1 \u0631\u0648\u0632").typeError("\u0628\u0627\u06cc\u062f \u0639\u062f\u062f \u0628\u0627\u0634\u062f")});n.default=function(e){var n,r,s,h,W=e.open,F=e.toggle,Q=e.setChange,P=e.company,E=e.edit,M=(0,o.useState)(!1),z=M[0],D=M[1],I=(0,o.useState)(!1),A=I[0],L=I[1],R=P?{natural_code:null===P||void 0===P||null===(n=P.admin)||void 0===n?void 0:n.natural_code,name:P.name,phone:null===P||void 0===P||null===(r=P.admin)||void 0===r?void 0:r.phone,duration_of_activity:P.duration_of_activity,username:null===P||void 0===P||null===(s=P.admin)||void 0===s?void 0:s.username,password:"********",adminName:null===P||void 0===P||null===(h=P.admin)||void 0===h?void 0:h.name}:{natural_code:"",name:"",phone:"",duration_of_activity:0,username:"",password:"",adminName:""};console.log(R);var T=(0,p.cI)({defaultValues:R,mode:"onChange",resolver:(0,x.X)(S)}),V=T.reset,X=T.control,G=T.handleSubmit,H=T.setError,J=T.formState.errors,K=function(){F(),V(R)};return(0,a.jsxs)(l.ZP,{open:W,anchor:"left",variant:"temporary",onClose:K,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,a.jsxs)(N,{children:[(0,a.jsx)(d.Z,{variant:"h6",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0634\u0631\u06a9\u062a"}),(0,a.jsx)(f.Z,{fontSize:"small",onClick:K,sx:{cursor:"pointer"}})]}),(0,a.jsx)(u.Z,{sx:{p:5},children:(0,a.jsxs)("form",{onSubmit:G((function(e){var n={name:e.name,duration_of_activity:e.duration_of_activity,active:!0,admin:{name:e.adminName,username:e.username,phone:e.phone,natural_code:e.natural_code,password:e.password}};_.Z.post("company/register",n,{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))}).then((function(){V(R),F(),D(!0)})).catch((function(e){H("name",{type:"custom",message:e.response.data.message})}))})),children:[(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(p.Qr,{name:"name",control:X,rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(t.Z,{autoFocus:!0,label:"\u0646\u0627\u0645 \u0634\u0631\u06a9\u062a",value:r,onBlur:l,onChange:o,error:Boolean(J.name),disabled:E})}}),J.name&&(0,a.jsx)(m.Z,{sx:{color:"error.main"},children:J.name.message})]}),(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(p.Qr,{name:"duration_of_activity",control:X,type:"number",rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(t.Z,{autoFocus:!0,label:"\u0627\u0639\u062a\u0628\u0627\u0631 \u0627\u06a9\u0627\u0646\u062a (\u0631\u0648\u0632)",value:r,onBlur:l,onChange:o,error:Boolean(J.duration_of_activity),disabled:E})}}),J.duration_of_activity&&(0,a.jsx)(m.Z,{sx:{color:"error.main"},children:J.duration_of_activity.message})]}),(0,a.jsx)(u.Z,{sx:{mb:4},children:(0,a.jsx)(d.Z,{variant:"p",fullwidth:!0,children:"\u0627\u062f\u0645\u06cc\u0646"})}),(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(p.Qr,{fullWidth:!0,name:"natural_code",control:X,rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(t.Z,{autoFocus:!0,label:"\u06a9\u062f\u0645\u0644\u06cc",value:r,onBlur:l,onChange:o,error:Boolean(J.natural_code),inputProps:{maxLength:10},dir:"ltr",disabled:E})}}),J.natural_code&&(0,a.jsx)(m.Z,{sx:{color:"error.main"},children:J.natural_code.message})]}),(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(p.Qr,{name:"adminName",control:X,rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(t.Z,{autoFocus:!0,label:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",value:r,onBlur:l,onChange:o,error:Boolean(J.adminName),disabled:E})}}),J.adminName&&(0,a.jsx)(m.Z,{sx:{color:"error.main"},children:J.adminName.message})]}),(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(p.Qr,{name:"phone",control:X,rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(t.Z,{autoFocus:!0,label:"\u0645\u0648\u0628\u0627\u06cc\u0644",value:r,onBlur:l,onChange:o,error:Boolean(J.phone),inputProps:{maxLength:11},placeholder:"09*********",dir:"ltr",disabled:E})}}),J.phone&&(0,a.jsx)(m.Z,{sx:{color:"error.main"},children:J.phone.message})]}),(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(p.Qr,{name:"username",control:X,rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(t.Z,{autoFocus:!0,label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",value:r,onBlur:l,onChange:o,error:Boolean(J.username),dir:"ltr",disabled:E})}}),J.username&&(0,a.jsx)(m.Z,{sx:{color:"error.main"},children:J.username.message})]}),(0,a.jsxs)(c.Z,{fullWidth:!0,sx:{mb:4},children:[(0,a.jsx)(C.Z,{htmlFor:"auth-login-v2-password",error:Boolean(J.password),children:"\u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631"}),(0,a.jsx)(p.Qr,{name:"password",control:X,rules:{required:!0},render:function(e){var n=e.field,r=n.value,o=n.onChange,l=n.onBlur;return(0,a.jsx)(y.Z,{disabled:E,value:r,onBlur:l,label:"Password",onChange:o,id:"auth-login-v2-password",error:Boolean(J.password),type:A?"text":"password",endAdornment:(0,a.jsx)(B.Z,{position:"end",children:(0,a.jsx)(w.Z,{edge:"end",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return!E&&L(!A)},children:A?(0,a.jsx)(q.Z,{}):(0,a.jsx)(k.Z,{})})})})}})]}),!E&&(0,a.jsx)(i.Z,{size:"large",type:"submit",variant:"contained",sx:{mr:3},fullWidth:!0,children:"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,a.jsxs)(v.Z,{open:z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(g.Z,{id:"alert-dialog-title",children:"\u0627\u06cc\u062c\u0627\u062f \u0634\u0631\u06a9\u062a"}),(0,a.jsx)(j.Z,{children:(0,a.jsx)(b.Z,{id:"alert-dialog-description",children:"\u0634\u0631\u06a9\u062a \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0627\u06cc\u062c\u0627\u062f \u0634\u062f"})}),(0,a.jsx)(Z.Z,{children:(0,a.jsx)(i.Z,{onClick:function(){D(!1),Q(!0)},autoFocus:!0,children:"\u0645\u062a\u0648\u062c\u0647 \u0634\u062f\u0645"})})]})]})}}}]);