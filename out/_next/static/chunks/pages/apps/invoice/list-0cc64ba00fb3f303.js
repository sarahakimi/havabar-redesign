(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8774],{96557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/invoice/list",function(){return t(13117)}])},83552:function(e,n,t){"use strict";t.d(n,{Q:function(){return r}});var r=function(e){return e.split(/\s/).reduce((function(e,n){return e+n.slice(0,1)}),"")}},13117:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ae}});var r=t(85893),i=t(67294),a=t(41664),l=t.n(a),o=t(79172),s=t(86886),c=t(66242),d=t(38333),u=t(34386),h=t(11496),x=t(18972),f=t(50135),m=t(78445),j=t(93946),p=t(47312),v=t(15861),Z=t(94054),y=t(44267),b=t(11281),g=t(18360),w=t(2265),S=t(37936),D=t(52439),C=t(48800),P=t(78584),z=t(95898),W=t(93842),I=t(90738),O=t(46160),E=t(3690),k=t(83296),_=t(74496),A=t(14529),N=t(32912),H=t(9198),M=t.n(H),R=t(9473),T=t(80822),F=t(83552),B=t(7071),Q=t(92024),V=t(11057),X=function(e){var n=e.value,t=e.selectedRows,i=e.handleFilter;return(0,r.jsxs)(o.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(g.Z,{size:"small",displayEmpty:!0,defaultValue:"",sx:{mr:4,mb:2},disabled:t&&0===t.length,renderValue:function(e){return 0===e.length?"Actions":e},children:[(0,r.jsx)(x.Z,{value:"",disabled:!0,children:"Actions"}),(0,r.jsx)(x.Z,{value:"Delete",children:"Delete"}),(0,r.jsx)(x.Z,{value:"Edit",children:"Edit"}),(0,r.jsx)(x.Z,{value:"Send",children:"Send"})]}),(0,r.jsxs)(o.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,r.jsx)(f.Z,{size:"small",value:n,placeholder:"Search Invoice",sx:{mr:4,mb:2,maxWidth:"180px"},onChange:function(e){return i(e.target.value)}}),(0,r.jsx)(l(),{href:"/apps/invoice/add",passHref:!0,children:(0,r.jsx)(V.Z,{sx:{mb:2},variant:"contained",children:"Create Invoice"})})]})]})},$=(t(95828),t(64488));function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function G(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){G(e,n,t[n])}))}return e}function U(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);l=!0);}catch(s){o=!0,i=s}finally{try{l||null==t.return||t.return()}finally{if(o)throw i}}return a}}(e,n)||L(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){if(e){if("string"===typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q(e,n):void 0}}var Y=(0,h.ZP)("a")((function(e){return{textDecoration:"none",color:e.theme.palette.primary.main}}));function ee(e){var n=e.id,t=(0,i.useState)(null),a=t[0],o=t[1],s=Boolean(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{size:"small",onClick:function(e){o(e.currentTarget)},children:(0,r.jsx)(O.Z,{})}),(0,r.jsxs)(d.Z,{keepMounted:!0,anchorEl:a,open:s,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(C.Z,{fontSize:"small",sx:{mr:2}}),"Download"]}),(0,r.jsx)(l(),{href:"/apps/invoice/edit/".concat(n),passHref:!0,children:(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(E.Z,{fontSize:"small",sx:{mr:2}}),"Edit"]})}),(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(I.Z,{fontSize:"small",sx:{mr:2}}),"Duplicate"]})]})]})}var ne={Sent:{color:"secondary",icon:(0,r.jsx)(w.Z,{sx:{fontSize:"1.25rem"}})},Paid:{color:"success",icon:(0,r.jsx)(S.Z,{sx:{fontSize:"1.25rem"}})},Draft:{color:"primary",icon:(0,r.jsx)(A.Z,{sx:{fontSize:"1.25rem"}})},"Partial Payment":{color:"warning",icon:(0,r.jsx)(D.Z,{sx:{fontSize:"1.25rem"}})},"Past Due":{color:"error",icon:(0,r.jsx)(_.Z,{sx:{fontSize:"1.25rem"}})},Downloaded:{color:"info",icon:(0,r.jsx)(P.Z,{sx:{fontSize:"1.25rem"}})}},te=function(e){return e.avatar.length?(0,r.jsx)(Q.Z,{src:e.avatar,sx:{mr:3,width:34,height:34}}):(0,r.jsx)(Q.Z,{skin:"light",color:e.avatarColor||"primary",sx:{mr:3,fontSize:"1rem",width:34,height:34},children:(0,F.Q)(e.name||"John Doe")})},re=[{flex:.1,field:"id",minWidth:80,headerName:"#",renderCell:function(e){var n=e.row;return(0,r.jsx)(l(),{href:"/apps/invoice/preview/".concat(n.id),passHref:!0,children:(0,r.jsx)(Y,{children:"#".concat(n.id)})})}},{flex:.1,minWidth:80,field:"invoiceStatus",renderHeader:function(){return(0,r.jsx)(W.Z,{fontSize:"small",sx:{color:"action.active"}})},renderCell:function(e){var n=e.row,t=n.dueDate,i=n.balance,a=n.invoiceStatus,l=ne[a]?ne[a].color:"primary",o=ne[a]?ne[a].icon:null;return(0,r.jsx)(u.Z,{title:(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{variant:"caption",sx:{color:"common.white",fontWeight:600},children:a}),(0,r.jsx)("br",{}),(0,r.jsx)(v.Z,{variant:"caption",sx:{color:"common.white",fontWeight:600},children:"Balance:"})," ",i,(0,r.jsx)("br",{}),(0,r.jsx)(v.Z,{variant:"caption",sx:{color:"common.white",fontWeight:600},children:"Due Date:"})," ",t]}),children:(0,r.jsx)(Q.Z,{skin:"light",color:l,sx:{width:34,height:34},children:o})})}},{flex:.25,field:"name",minWidth:300,headerName:"Client",renderCell:function(e){var n=e.row,t=n.name,i=n.companyEmail;return(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[te(n),(0,r.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)(v.Z,{noWrap:!0,variant:"body2",sx:{color:"text.primary",fontWeight:500,lineHeight:"22px",letterSpacing:".1px"},children:t}),(0,r.jsx)(v.Z,{noWrap:!0,variant:"caption",children:i})]})]})}},{flex:.1,minWidth:90,field:"total",headerName:"Total",renderCell:function(e){var n=e.row;return(0,r.jsx)(v.Z,{variant:"body2",children:"$".concat(n.total||0)})}},{flex:.15,minWidth:125,field:"issuedDate",headerName:"Issued Date",renderCell:function(e){var n=e.row;return(0,r.jsx)(v.Z,{variant:"body2",children:n.issuedDate})}},{flex:.1,minWidth:90,field:"balance",headerName:"Balance",renderCell:function(e){var n=e.row;return 0!==n.balance?(0,r.jsx)(v.Z,{variant:"body2",sx:{color:"text.primary"},children:n.balance}):(0,r.jsx)(B.Z,{size:"small",skin:"light",color:"success",label:"Paid"})}}],ie=(0,i.forwardRef)((function(e,n){var t=null!==e.start?(0,N.Z)(e.start,"MM/dd/yyyy"):"",i=null!==e.end?" - ".concat((0,N.Z)(e.end,"MM/dd/yyyy")):null,a="".concat(t).concat(null!==i?i:"");null===e.start&&e.dates.length&&e.setDates&&e.setDates([]);var l=J({},e);return delete l.setDates,(0,r.jsx)(f.Z,J({fullWidth:!0,inputRef:n},l,{label:e.label||"",value:a}))}));var ae=function(){var e=(0,i.useState)([]),n=e[0],t=e[1],a=(0,i.useState)(""),d=a[0],h=a[1],f=(0,i.useState)(10),v=f[0],w=f[1],S=(0,i.useState)(""),D=S[0],C=S[1],P=(0,i.useState)(null),W=P[0],I=P[1],O=(0,i.useState)([]),E=O[0],_=O[1],A=(0,i.useState)(new Date),N=A[0],H=A[1],F=(0,R.I0)(),B=(0,R.v9)((function(e){return e.invoice}));(0,i.useEffect)((function(){F((0,T.rQ)({dates:n,q:d,status:D}))}),[F,D,d,n]);var Q=K(re).concat([{flex:.1,minWidth:130,sortable:!1,field:"actions",headerName:"Actions",renderCell:function(e){var n=e.row;return(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(u.Z,{title:"Delete Invoice",children:(0,r.jsx)(j.Z,{size:"small",sx:{mr:.5},onClick:function(){return F((0,T.Wu)(n.id))},children:(0,r.jsx)(k.Z,{})})}),(0,r.jsx)(u.Z,{title:"View",children:(0,r.jsx)(o.Z,{children:(0,r.jsx)(l(),{href:"/apps/invoice/preview/".concat(n.id),passHref:!0,children:(0,r.jsx)(j.Z,{size:"small",component:"a",sx:{textDecoration:"none",mr:.5},children:(0,r.jsx)(z.Z,{})})})})}),(0,r.jsx)(ee,{id:n.id})]})}}]);return(0,r.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(m.Z,{title:"Filters"}),(0,r.jsx)(y.Z,{children:(0,r.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(Z.Z,{fullWidth:!0,children:[(0,r.jsx)(p.Z,{id:"invoice-status-select",children:"Invoice Status"}),(0,r.jsxs)(g.Z,{fullWidth:!0,value:D,sx:{mr:4,mb:2},label:"Invoice Status",onChange:function(e){C(e.target.value)},labelId:"invoice-status-select",children:[(0,r.jsx)(x.Z,{value:"",children:"none"}),(0,r.jsx)(x.Z,{value:"downloaded",children:"Downloaded"}),(0,r.jsx)(x.Z,{value:"draft",children:"Draft"}),(0,r.jsx)(x.Z,{value:"paid",children:"Paid"}),(0,r.jsx)(x.Z,{value:"past due",children:"Past Due"}),(0,r.jsx)(x.Z,{value:"partial payment",children:"Partial Payment"})]})]})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)($.Z,{children:(0,r.jsx)(M(),{isClearable:!0,selectsRange:!0,monthsShown:2,endDate:W,selected:N,startDate:N,shouldCloseOnSelect:!1,id:"date-range-picker-months",onChange:function(e){var n=U(e,2),r=n[0],i=n[1];null!==r&&null!==i&&t(e),H(r),I(i)},customInput:(0,r.jsx)(ie,{dates:n,setDates:t,label:"Invoice Date",end:W,start:N})})})})]})})]})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(X,{value:d,selectedRows:E,handleFilter:function(e){h(e)}}),(0,r.jsx)(b._,{autoHeight:!0,pagination:!0,rows:B.data,columns:Q,checkboxSelection:!0,disableSelectionOnClick:!0,pageSize:Number(v),rowsPerPageOptions:[10,25,50],sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onSelectionModelChange:function(e){return _(e)},onPageSizeChange:function(e){return w(e)}})]})})]})}}},function(e){e.O(0,[4386,8960,7693,1281,4370,9774,2888,179],(function(){return n=96557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);