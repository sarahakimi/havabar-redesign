(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5099],{42427:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/chat",function(){return r(98440)}])},31283:function(e,t,r){"use strict";var n=r(85893),o=r(67294),i=r(84808),s=r(79172);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}var l=function(e){var t=e.sx,r=e.show,a=e.direction,l=e.children,d=e.hideBackdrop,u=e.onOpen,h=e.onClose,x=e.backDropClick;return(0,o.useEffect)((function(){r&&u&&u(),!1===r&&h&&h()}),[h,u,r]),(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(s.Z,c({},e,{sx:c({top:0,height:"100%",zIndex:"drawer",position:"absolute",transition:"all .25s ease-in-out",backgroundColor:"background.paper"},r?{opacity:1}:{opacity:0},"right"===a?{left:"auto",right:r?0:"-100%"}:{right:"auto",left:r?0:"-100%"},t),children:l})),d?null:(0,n.jsx)(i.Z,{open:r,transitionDuration:250,onClick:function(){x&&x()},sx:{position:"absolute",zIndex:function(e){return e.zIndex.drawer-1}}})]})};t.Z=l,l.defaultProps={direction:"left"}},59882:function(e,t,r){"use strict";r.d(t,{N:function(){return a},mf:function(){return s},oS:function(){return o},tE:function(){return c}});var n=function(e){var t=new Date;return new Date(e).getDate()===t.getDate()&&new Date(e).getMonth()===t.getMonth()&&new Date(e).getFullYear()===t.getFullYear()},o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Date(e),o={month:"short",day:"numeric"};return t&&n(r)&&(o={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",o).format(new Date(e))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")},s=function(e,t){if(!e)return e;var r,n=t.fns.cardType(e),o=i(e);switch(n){case"amex":r="".concat(o.slice(0,4)," ").concat(o.slice(4,10)," ").concat(o.slice(10,15));break;case"dinersclub":r="".concat(o.slice(0,4)," ").concat(o.slice(4,10)," ").concat(o.slice(10,14));break;default:r="".concat(o.slice(0,4)," ").concat(o.slice(4,8)," ").concat(o.slice(8,12)," ").concat(o.slice(12,19))}return r.trim()},a=function(e){return e.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/")},c=function(e,t,r){var n=i(e),o="amex"===r.fns.cardType(t)?4:3;return n.slice(0,o)}},83552:function(e,t,r){"use strict";r.d(t,{Q:function(){return n}});var n=function(e){return e.split(/\s/).reduce((function(e,t){return e+t.slice(0,1)}),"")}},98440:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ke}});var n=r(85893),o=r(67294),i=r(79172),s=r(2734),a=r(98396),c=r(9473),l=r(75538),d=r(51514),u=r(83552),h=r(59882),x=r(11163),f=r(78462),p=r(87918),m=r(71236),b=r(58826),g=r(87952),j=r(19294),Z=r(50135),v=r(93946),y=r(15861),w=r(59334),C=r(18987),S=r(98619),P=r(87109),k=r(51964),O=r.n(k),z=r(42734),R=r(69497),I=r(92024),T=r(36872),D=r(11057),N=r(68061),M=r(48885),L=r(50480),E=r(37142),W=r(83296),A=r(99642),F=r(54356),_=r(31283);var B=function(e){var t=function(e){var t=e.children;return o?(0,n.jsx)(i.Z,{sx:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,n.jsx)(O(),{options:{wheelPropagation:!1},children:t})},r=e.store,o=e.hidden,s=e.statusObj,a=e.userStatus,c=e.sidebarWidth,l=e.setUserStatus,d=e.userProfileLeftOpen,u=e.handleUserProfileLeftSidebarToggle;return(0,n.jsx)(_.Z,{show:d,backDropClick:u,sx:{zIndex:9,height:"100%",width:c,borderTopLeftRadius:function(e){return e.shape.borderRadius},borderBottomLeftRadius:function(e){return e.shape.borderRadius},"& + .MuiBackdrop-root":{zIndex:8,borderRadius:1}},children:r&&r.userProfile?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{size:"small",onClick:u,sx:{top:".7rem",right:".7rem",position:"absolute"},children:(0,n.jsx)(z.Z,{})}),(0,n.jsxs)(i.Z,{sx:{px:5,pb:7,pt:9.5,display:"flex",flexDirection:"column"},children:[(0,n.jsx)(i.Z,{sx:{mb:4.25,display:"flex",justifyContent:"center"},children:(0,n.jsx)(m.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,n.jsx)(i.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",color:"".concat(s[a],".main"),backgroundColor:"".concat(s[a],".main"),boxShadow:function(e){return"0 0 0 2px ".concat(e.palette.background.paper)}}}),children:(0,n.jsx)(g.Z,{sx:{width:84,height:84},src:r.userProfile.avatar,alt:r.userProfile.fullName})})}),(0,n.jsx)(y.Z,{sx:{mb:.75,fontWeight:600,textAlign:"center"},children:r.userProfile.fullName}),(0,n.jsx)(y.Z,{variant:"body2",sx:{textAlign:"center",textTransform:"capitalize"},children:r.userProfile.role})]}),(0,n.jsx)(i.Z,{sx:{height:"calc(100% - 13.375rem)"},children:(0,n.jsx)(t,{children:(0,n.jsxs)(i.Z,{sx:{p:5},children:[(0,n.jsx)(y.Z,{variant:"body2",sx:{mb:1.5,textTransform:"uppercase"},children:"About"}),(0,n.jsx)(Z.Z,{minRows:3,multiline:!0,fullWidth:!0,sx:{mb:6},defaultValue:r.userProfile.about}),(0,n.jsx)(y.Z,{variant:"body2",sx:{mb:1.5,textTransform:"uppercase"},children:"Status"}),(0,n.jsxs)(N.Z,{value:a,sx:{mb:6.5,ml:.8},onChange:function(e){l(e.target.value)},children:[(0,n.jsx)("div",{children:(0,n.jsx)(L.Z,{value:"online",label:"Online",control:(0,n.jsx)(T.Z,{size:"small",color:"success",sx:{p:1.5}}),sx:{"& .MuiFormControlLabel-label":{ml:1,color:"text.secondary"}}})}),(0,n.jsx)("div",{children:(0,n.jsx)(L.Z,{value:"away",label:"Away",control:(0,n.jsx)(T.Z,{size:"small",color:"warning",sx:{p:1.5}}),sx:{"& .MuiFormControlLabel-label":{ml:1,color:"text.secondary"}}})}),(0,n.jsx)("div",{children:(0,n.jsx)(L.Z,{value:"busy",label:"Do not Disturb",control:(0,n.jsx)(T.Z,{size:"small",color:"error",sx:{p:1.5}}),sx:{"& .MuiFormControlLabel-label":{ml:1,color:"text.secondary"}}})}),(0,n.jsx)("div",{children:(0,n.jsx)(L.Z,{value:"offline",label:"Offline",control:(0,n.jsx)(T.Z,{size:"small",color:"secondary",sx:{p:1.5}}),sx:{"& .MuiFormControlLabel-label":{ml:1,color:"text.secondary"}}})})]}),(0,n.jsx)(y.Z,{variant:"body2",sx:{mb:1.5,textTransform:"uppercase"},children:"Settings"}),(0,n.jsxs)(f.Z,{dense:!0,sx:{p:0,mb:6},children:[(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:2},children:(0,n.jsx)(F.Z,{sx:{fontSize:"1.25rem"}})}),(0,n.jsx)(w.Z,{secondary:"Two-step Verification"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:2},children:(0,n.jsx)(E.Z,{sx:{fontSize:"1.25rem"}})}),(0,n.jsx)(w.Z,{secondary:"Notification"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:2},children:(0,n.jsx)(A.Z,{sx:{fontSize:"1.25rem"}})}),(0,n.jsx)(w.Z,{secondary:"Invite Friends"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:2},children:(0,n.jsx)(W.Z,{sx:{fontSize:"1.25rem"}})}),(0,n.jsx)(w.Z,{secondary:"Delete Account"})]})})]}),(0,n.jsx)(D.Z,{variant:"contained",children:"Logout"})]})})})]}):null})};function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){U(e,t,r[t])}))}return e}function X(e){var t=e.children;return e.hidden?(0,n.jsx)(i.Z,{sx:{height:"100%",overflow:"auto"},children:t}):(0,n.jsx)(O(),{options:{wheelPropagation:!1},children:t})}var Y=function(e){var t=e.store,r=e.hidden,s=e.mdAbove,a=e.dispatch,c=e.statusObj,l=e.userStatus,d=e.selectChat,u=e.getInitials,h=e.sidebarWidth,k=e.setUserStatus,O=e.leftSidebarOpen,T=e.removeSelectedChat,D=e.userProfileLeftOpen,N=e.formatDateToMonthShort,M=e.handleLeftSidebarToggle,L=e.handleUserProfileLeftSidebarToggle,E=(0,o.useState)(""),W=E[0],A=E[1],F=(0,o.useState)([]),_=F[0],U=F[1],Y=(0,o.useState)([]),G=Y[0],Q=Y[1],V=(0,o.useState)(null),H=V[0],q=V[1],J=(0,x.useRouter)(),K=function(e,t){a(d(t)),q({type:e,id:t}),s||M()};(0,o.useEffect)((function(){t&&t.chats&&null!==H&&"contact"===H.type&&H.id===t.chats[0].id&&q({type:"chat",id:H.id})}),[t,H]),(0,o.useEffect)((function(){return J.events.on("routeChangeComplete",(function(){q(null),a(T())})),function(){q(null),a(T())}}),[]);var ee=function(e){if(null!==t.chats)return!!t.chats.filter((function(t){return t.id===e})).length};return(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)(b.ZP,{open:O,onClose:M,variant:s?"permanent":"temporary",ModalProps:{disablePortal:!0,keepMounted:!0},sx:{zIndex:7,height:"100%",display:"block",position:s?"static":"absolute","& .MuiDrawer-paper":{boxShadow:"none",overflow:"hidden",width:h,position:s?"static":"absolute",borderTopLeftRadius:function(e){return e.shape.borderRadius},borderBottomLeftRadius:function(e){return e.shape.borderRadius}},"& > .MuiBackdrop-root":{borderRadius:1,position:"absolute",zIndex:function(e){return e.zIndex.drawer-1}}},children:[(0,n.jsxs)(i.Z,{sx:{px:5.5,py:3.5,display:"flex",alignItems:"center",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:[t&&t.userProfile?(0,n.jsx)(m.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:4.5},onClick:L,badgeContent:(0,n.jsx)(i.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(c[l],".main"),backgroundColor:"".concat(c[l],".main"),boxShadow:function(e){return"0 0 0 2px ".concat(e.palette.background.paper)}}}),children:(0,n.jsx)(g.Z,{src:t.userProfile.avatar,alt:t.userProfile.fullName,sx:{width:40,height:40,cursor:"pointer"}})}):null,(0,n.jsx)(Z.Z,{fullWidth:!0,size:"small",value:W,onChange:function(e){if(A(e.target.value),null!==t.chats&&null!==t.contacts){var r=function(t){return t.fullName.toLowerCase().includes(e.target.value.toLowerCase())},n=t.chats.filter(r),o=t.contacts.filter(r);U(n),Q(o)}},placeholder:"Search for contact...",sx:{"& .MuiInputBase-root":{borderRadius:5}},InputProps:{startAdornment:(0,n.jsx)(P.Z,{position:"start",children:(0,n.jsx)(R.Z,{fontSize:"small"})})}}),s?null:(0,n.jsx)(v.Z,{sx:{p:1,ml:1},onClick:M,children:(0,n.jsx)(z.Z,{sx:{fontSize:"1.375rem"}})})]}),(0,n.jsx)(i.Z,{sx:{height:"calc(100% - 4.0625rem)"},children:(0,n.jsx)(X,{hidden:r,children:(0,n.jsxs)(i.Z,{sx:{p:function(e){return e.spacing(5,3,3)}},children:[(0,n.jsx)(y.Z,{variant:"h6",sx:{ml:2,mb:4,color:"primary.main"},children:"Chats"}),(0,n.jsx)(f.Z,{sx:{mb:7.5,p:0},children:function(){if(t&&t.chats&&t.chats.length)return W.length&&!_.length?(0,n.jsx)(j.ZP,{children:(0,n.jsx)(y.Z,{sx:{color:"text.secondary"},children:"No Chats Found"})}):(W.length&&_.length?_:t.chats).map((function(e,t){var r=e.chat.lastMessage,o=null!==H&&H.id===e.id&&"chat"===H.type;return(0,n.jsx)(j.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1.5}},children:(0,n.jsxs)(S.Z,{disableRipple:!0,onClick:function(){return K("chat",e.id)},sx:{px:2.5,py:2.5,width:"100%",borderRadius:1,alignItems:"flex-start",backgroundColor:function(e){return o?"".concat(e.palette.primary.main," !important"):""}},children:[(0,n.jsx)(C.Z,{sx:{m:0},children:(0,n.jsx)(m.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,n.jsx)(i.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(c[e.status],".main"),backgroundColor:"".concat(c[e.status],".main"),boxShadow:function(e){return"0 0 0 2px ".concat(o?e.palette.common.white:e.palette.background.paper)}}}),children:e.avatar?(0,n.jsx)(g.Z,{src:e.avatar,alt:e.fullName,sx:{width:40,height:40,border:function(e){return o?"2px solid ".concat(e.palette.common.white):""}}}):(0,n.jsx)(I.Z,{color:e.avatarColor,skin:o?"light-static":"light",sx:{width:40,height:40,fontSize:"1rem",border:function(e){return o?"2px solid ".concat(e.palette.common.white):""}},children:u(e.fullName)})})}),(0,n.jsx)(w.Z,{sx:{my:0,ml:4,mr:1.5,"& .MuiTypography-root":$({},o?{color:"common.white"}:{})},primary:(0,n.jsx)(y.Z,{noWrap:!0,sx:$({},o?{}:{color:"text.secondary"}),children:e.fullName}),secondary:(0,n.jsx)(y.Z,{noWrap:!0,variant:"body2",sx:{color:o?{}:function(e){return e.palette.text.disabled}},children:r?r.message:null})}),(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-start"},children:[(0,n.jsx)(y.Z,{sx:{whiteSpace:"nowrap",color:o?"common.white":"text.disabled"},children:(0,n.jsx)(n.Fragment,{children:r?N(r.time,!0):new Date})}),e.chat.unseenMsgs&&e.chat.unseenMsgs>0?(0,n.jsx)(p.Z,{color:"error",label:e.chat.unseenMsgs,sx:{mt:.5,height:18,fontWeight:600,fontSize:"0.75rem","& .MuiChip-label":{pt:.25,px:1.655}}}):null]})]})},t)}))}()}),(0,n.jsx)(y.Z,{variant:"h6",sx:{ml:2,mb:4,color:"primary.main"},children:"Contacts"}),(0,n.jsx)(f.Z,{sx:{p:0},children:function(){if(t&&t.chats&&t.chats.length){if(W.length&&!G.length)return(0,n.jsx)(j.ZP,{children:(0,n.jsx)(y.Z,{sx:{color:"text.secondary"},children:"No Contacts Found"})});var e=W.length&&G.length?G:t.contacts;return null!==e?e.map((function(e,t){var r=null!==H&&H.id===e.id&&"contact"===H.type&&!ee(e.id);return(0,n.jsx)(j.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1.5}},children:(0,n.jsxs)(S.Z,{disableRipple:!0,onClick:function(){return K(ee(e.id)?"chat":"contact",e.id)},sx:{px:2.5,py:2.5,width:"100%",borderRadius:1,backgroundColor:function(e){return r?"".concat(e.palette.primary.main," !important"):""}},children:[(0,n.jsx)(C.Z,{sx:{m:0},children:e.avatar?(0,n.jsx)(g.Z,{alt:e.fullName,src:e.avatar,sx:{width:40,height:40,border:function(e){return r?"2px solid ".concat(e.palette.common.white):""}}}):(0,n.jsx)(I.Z,{color:e.avatarColor,skin:r?"light-static":"light",sx:{width:40,height:40,fontSize:"1rem",border:function(e){return r?"2px solid ".concat(e.palette.common.white):""}},children:u(e.fullName)})}),(0,n.jsx)(w.Z,{sx:{my:0,ml:4,"& .MuiTypography-root":{color:r?"common.white":""}},primary:(0,n.jsx)(y.Z,{sx:$({},r?{}:{color:"text.secondary"}),children:e.fullName}),secondary:(0,n.jsx)(y.Z,{noWrap:!0,variant:"body2",sx:{color:r?{}:function(e){return e.palette.text.disabled}},children:e.about})})]})},t)})):null}}()})]})})})]}),(0,n.jsx)(B,{store:t,hidden:r,statusObj:c,userStatus:l,sidebarWidth:h,setUserStatus:k,userProfileLeftOpen:D,handleUserProfileLeftSidebarToggle:L})]})},G=r(38333),Q=r(18972),V=r(11496),H=r(84022),q=r(55143),J=r(29025),K=r(46160),ee=r(13128),te=r(91587),re=r(98542);function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oe=(0,V.ZP)(i.Z)((function(e){var t=e.theme;return{display:"flex",borderRadius:8,alignItems:"center",boxShadow:t.shadows[1],padding:t.spacing(1.25,4),justifyContent:"space-between",backgroundColor:t.palette.background.paper}})),ie=(0,V.ZP)("form")((function(e){return{padding:e.theme.spacing(0,5,5)}})),se=function(e){var t=e.store,r=e.dispatch,s=e.sendMsg,a=(0,o.useState)(""),c=a[0],l=a[1];return(0,n.jsx)(ie,{onSubmit:function(e){e.preventDefault(),t&&t.selectedChat&&c.trim().length&&r(s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ne(e,t,r[t])}))}return e}({},t.selectedChat,{message:c}))),l("")},children:(0,n.jsxs)(oe,{children:[(0,n.jsx)(i.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,n.jsx)(Z.Z,{fullWidth:!0,value:c,size:"small",placeholder:"Type your message here\u2026",onChange:function(e){return l(e.target.value)},sx:{"& .MuiOutlinedInput-input":{pl:0},"& fieldset":{border:"0 !important"}}})}),(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(v.Z,{size:"small",sx:{mr:1.5,color:"text.primary"},children:(0,n.jsx)(te.Z,{sx:{fontSize:"1.375rem"}})}),(0,n.jsxs)(v.Z,{size:"small",component:"label",htmlFor:"upload-img",sx:{mr:2.75,color:"text.primary"},children:[(0,n.jsx)(re.Z,{sx:{fontSize:"1.375rem"}}),(0,n.jsx)("input",{hidden:!0,type:"file",id:"upload-img"})]}),(0,n.jsx)(D.Z,{type:"submit",variant:"contained",children:"Send"})]})]})})},ae=r(53457),ce=r(3637),le=r(48777),de=r(42255),ue=r(32988),he=r(54889),xe=r(7409);var fe=function(e){var t=function(e){var t=e.children;return o?(0,n.jsx)(i.Z,{sx:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,n.jsx)(O(),{options:{wheelPropagation:!1},children:t})},r=e.store,o=e.hidden,s=e.statusObj,a=e.getInitials,c=e.sidebarWidth,l=e.userProfileRightOpen,d=e.handleUserProfileRightSidebarToggle;return(0,n.jsx)(_.Z,{direction:"right",show:l,backDropClick:d,sx:{zIndex:9,height:"100%",width:c,borderTopRightRadius:function(e){return e.shape.borderRadius},borderBottomRightRadius:function(e){return e.shape.borderRadius},"& + .MuiBackdrop-root":{zIndex:8,borderRadius:1}},children:r&&r.selectedChat?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.Z,{sx:{position:"relative"},children:[(0,n.jsx)(v.Z,{size:"small",onClick:d,sx:{top:"0.7rem",right:"0.7rem",position:"absolute",color:"text.secondary"},children:(0,n.jsx)(z.Z,{sx:{color:"action.active"}})}),(0,n.jsxs)(i.Z,{sx:{px:5,pb:7,pt:9.5,display:"flex",flexDirection:"column"},children:[(0,n.jsx)(i.Z,{sx:{mb:4,display:"flex",justifyContent:"center"},children:(0,n.jsx)(m.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,n.jsx)(i.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",color:"".concat(s[r.selectedChat.contact.status],".main"),boxShadow:function(e){return"0 0 0 2px ".concat(e.palette.background.paper)},backgroundColor:"".concat(s[r.selectedChat.contact.status],".main")}}),children:r.selectedChat.contact.avatar?(0,n.jsx)(g.Z,{sx:{width:"5rem",height:"5rem"},src:r.selectedChat.contact.avatar,alt:r.selectedChat.contact.fullName}):(0,n.jsx)(I.Z,{skin:"light",color:r.selectedChat.contact.avatarColor,sx:{width:"5rem",height:"5rem",fontWeight:500,fontSize:"2rem"},children:a(r.selectedChat.contact.fullName)})})}),(0,n.jsx)(y.Z,{sx:{mb:.75,fontWeight:600,textAlign:"center"},children:r.selectedChat.contact.fullName}),(0,n.jsx)(y.Z,{variant:"body2",sx:{textAlign:"center"},children:r.selectedChat.contact.role})]})]}),(0,n.jsx)(i.Z,{sx:{height:"calc(100% - 13.0625rem)"},children:(0,n.jsx)(t,{children:(0,n.jsxs)(i.Z,{sx:{p:5},children:[(0,n.jsxs)(ae.Z,{sx:{mb:6},children:[(0,n.jsx)(y.Z,{variant:"body2",sx:{mb:1.5,textTransform:"uppercase"},children:"About"}),(0,n.jsx)(y.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:r.selectedChat.contact.about})]}),(0,n.jsxs)(i.Z,{sx:{mb:6},children:[(0,n.jsx)(y.Z,{variant:"body2",sx:{mb:1.5,textTransform:"uppercase"},children:"Personal Information"}),(0,n.jsxs)(f.Z,{dense:!0,sx:{p:0},children:[(0,n.jsxs)(j.ZP,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(de.Z,{})}),(0,n.jsx)(w.Z,{sx:{textTransform:"lowercase"},secondary:"".concat(r.selectedChat.contact.fullName.replace(/\s/g,"_"),"@email.com")})]}),(0,n.jsxs)(j.ZP,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(q.Z,{})}),(0,n.jsx)(w.Z,{secondary:"+1(123) 456 - 7890"})]}),(0,n.jsxs)(j.ZP,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(xe.Z,{})}),(0,n.jsx)(w.Z,{secondary:"Mon - Fri 10AM - 8PM"})]})]})]}),(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(y.Z,{variant:"body2",sx:{mb:1.5,textTransform:"uppercase"},children:"Settings"}),(0,n.jsxs)(f.Z,{dense:!0,sx:{p:0},children:[(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(he.Z,{})}),(0,n.jsx)(w.Z,{secondary:"Add Tag"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(le.Z,{})}),(0,n.jsx)(w.Z,{secondary:"Important Contact"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(ue.Z,{})}),(0,n.jsx)(w.Z,{secondary:"Shared Media"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:3},children:(0,n.jsx)(W.Z,{})}),(0,n.jsx)(w.Z,{secondary:"Delete Contact"})]})}),(0,n.jsx)(j.ZP,{disablePadding:!0,children:(0,n.jsxs)(S.Z,{sx:{px:2},children:[(0,n.jsx)(M.Z,{sx:{mr:2.5,ml:.5},children:(0,n.jsx)(ce.Z,{fontSize:"small"})}),(0,n.jsx)(w.Z,{secondary:"Block Contact"})]})})]})]})]})})})]}):null})},pe=r(37936),me=r(53387);function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){be(e,t,r[t])}))}return e}var je=(0,V.ZP)(O())((function(e){return{padding:e.theme.spacing(5)}}));var Ze=function(e){var t=function(e){var t=e.children;return s?(0,n.jsx)(i.Z,{ref:a,sx:{p:5,height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,n.jsx)(je,{ref:a,options:{wheelPropagation:!1},children:t})},r=e.data,s=e.hidden,a=(0,o.useRef)(null),c=function(){var e=[];r.chat&&(e=r.chat.chat);var t=[],n=e[0]?e[0].senderId:11,o={senderId:n,messages:[]};return e.forEach((function(r,i){n===r.senderId?o.messages.push({time:r.time,msg:r.message,feedback:r.feedback}):(n=r.senderId,t.push(o),o={senderId:r.senderId,messages:[{time:r.time,msg:r.message,feedback:r.feedback}]}),i===e.length-1&&t.push(o)})),t},l=function(e,t){if(e)return t.isSent&&!t.isDelivered?(0,n.jsx)(pe.Z,{sx:{mr:2,fontSize:"1rem",color:"text.secondary"}}):t.isSent&&t.isDelivered?(0,n.jsx)(me.Z,{sx:{mr:2,fontSize:"1rem",color:t.isSeen?"success.main":"text.secondary"}}):null};return(0,o.useEffect)((function(){r&&r.chat&&r.chat.chat.length&&a.current&&(s?a.current.scrollTop=Number.MAX_SAFE_INTEGER:a.current._container.scrollTop=Number.MAX_SAFE_INTEGER)}),[r]),(0,n.jsx)(i.Z,{sx:{height:"calc(100% - 8.4375rem)"},children:(0,n.jsx)(t,{children:c().map((function(e,t){var o=e.senderId===r.userContact.id;return(0,n.jsxs)(i.Z,{sx:{display:"flex",flexDirection:o?"row-reverse":"row",mb:t!==c().length-1?9.75:void 0},children:[(0,n.jsx)(i.Z,{children:(0,n.jsx)(I.Z,ge({skin:"light",color:r.contact.avatarColor?r.contact.avatarColor:void 0,sx:{width:"2rem",height:"2rem",fontSize:"0.875rem",ml:o?4:void 0,mr:o?void 0:4}},r.contact.avatar&&!o?{src:r.contact.avatar,alt:r.contact.fullName}:{},o?{src:r.userContact.avatar,alt:r.userContact.fullName}:{},{children:r.contact.avatarColor?(0,u.Q)(r.contact.fullName):null}))}),(0,n.jsx)(i.Z,{className:"chat-body",sx:{maxWidth:["calc(100% - 5.75rem)","75%","65%"]},children:e.messages.map((function(e,t,r){var s=r.length,a=new Date(e.time);return(0,n.jsxs)(i.Z,{sx:{"&:not(:last-of-type)":{mb:3.5}},children:[(0,n.jsx)(i.Z,{children:(0,n.jsx)(y.Z,{sx:{boxShadow:1,borderRadius:1,width:"fit-content",fontSize:"0.875rem",p:function(e){return e.spacing(3,4)},ml:o?"auto":void 0,borderTopLeftRadius:o?void 0:0,borderTopRightRadius:o?0:void 0,color:o?"common.white":"text.primary",backgroundColor:o?"primary.main":"background.paper"},children:e.msg})}),t+1===s?(0,n.jsxs)(i.Z,{sx:{mt:1,display:"flex",alignItems:"center",justifyContent:o?"flex-end":"flex-start"},children:[l(o,e.feedback),(0,n.jsx)(y.Z,{variant:"caption",sx:{color:"text.disabled"},children:a?new Date(a).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):null})]}):null]},t)}))})]},t)}))})})};function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ve(e,t,r[t])}))}return e}var we=(0,V.ZP)(i.Z)((function(e){return{flexGrow:1,height:"100%",display:"flex",borderRadius:1,alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:e.theme.palette.action.hover}})),Ce=function(e){var t=e.store,r=e.hidden,s=e.sendMsg,a=e.mdAbove,c=e.dispatch,l=e.statusObj,d=e.getInitials,u=e.sidebarWidth,h=e.userProfileRightOpen,x=e.handleLeftSidebarToggle,f=e.handleUserProfileRightSidebarToggle,p=(0,o.useState)(null),b=p[0],j=p[1],Z=Boolean(b),w=function(e){j(e.currentTarget)},C=function(){j(null)},S=function(){a||x()};return function(){if(t){var e=t.selectedChat;return e?(0,n.jsxs)(i.Z,{sx:{flexGrow:1,width:"100%",height:"100%",backgroundColor:function(e){return e.palette.action.hover}},children:[(0,n.jsxs)(i.Z,{sx:{py:3,px:5,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:[(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[a?null:(0,n.jsx)(v.Z,{onClick:x,sx:{mr:2},children:(0,n.jsx)(H.Z,{})}),(0,n.jsxs)(i.Z,{onClick:f,sx:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,n.jsx)(m.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:4.5},badgeContent:(0,n.jsx)(i.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(l[e.contact.status],".main"),boxShadow:function(e){return"0 0 0 2px ".concat(e.palette.background.paper)},backgroundColor:"".concat(l[e.contact.status],".main")}}),children:e.contact.avatar?(0,n.jsx)(g.Z,{src:e.contact.avatar,alt:e.contact.fullName,sx:{width:40,height:40}}):(0,n.jsx)(I.Z,{skin:"light",color:e.contact.avatarColor,sx:{width:40,height:40,fontSize:"1rem"},children:d(e.contact.fullName)})}),(0,n.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(y.Z,{sx:{color:"text.secondary"},children:e.contact.fullName}),(0,n.jsx)(y.Z,{variant:"body2",sx:{color:"text.disabled"},children:e.contact.role})]})]})]}),(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{size:"small",sx:{color:"text.secondary"},children:(0,n.jsx)(q.Z,{})}),(0,n.jsx)(v.Z,{size:"small",sx:{color:"text.secondary"},children:(0,n.jsx)(J.Z,{sx:{fontSize:"1.5rem"}})}),(0,n.jsx)(v.Z,{size:"small",sx:{color:"text.secondary"},children:(0,n.jsx)(R.Z,{})})]}):null,(0,n.jsx)(v.Z,{size:"small",onClick:w,sx:{color:"text.secondary"},children:(0,n.jsx)(K.Z,{})}),(0,n.jsxs)(G.Z,{open:Z,sx:{mt:2},anchorEl:b,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,n.jsx)(Q.Z,{onClick:C,children:"View Contact"}),(0,n.jsx)(Q.Z,{onClick:C,children:"Mute Notifications"}),(0,n.jsx)(Q.Z,{onClick:C,children:"Block Contact"}),(0,n.jsx)(Q.Z,{onClick:C,children:"Clear Chat"}),(0,n.jsx)(Q.Z,{onClick:C,children:"Report"})]})]})]}),e&&t.userProfile?(0,n.jsx)(Ze,{hidden:r,data:ye({},e,{userContact:t.userProfile})}):null,(0,n.jsx)(se,{store:t,dispatch:c,sendMsg:s}),(0,n.jsx)(fe,{store:t,hidden:r,statusObj:l,getInitials:d,sidebarWidth:u,userProfileRightOpen:h,handleUserProfileRightSidebarToggle:f})]}):(0,n.jsxs)(we,{sx:ye({},a?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}),children:[(0,n.jsx)(g.Z,{sx:{mb:5,pt:8,pb:7,px:7.5,width:110,height:110,backgroundColor:"background.paper",boxShadow:function(e){return e.shadows[3]}},children:(0,n.jsx)(ee.Z,{sx:{width:50,height:50,color:"action.active"}})}),(0,n.jsx)(i.Z,{onClick:S,sx:{px:6,py:2.25,borderRadius:5,backgroundColor:"background.paper",boxShadow:function(e){return e.shadows[3]},cursor:a?"default":"pointer"},children:(0,n.jsx)(y.Z,{sx:{fontWeight:600},children:"Start Conversation"})})]})}return null}()};function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Se(e,t,r[t])}))}return e}var ke=function(){var e=(0,o.useState)("online"),t=e[0],r=e[1],x=(0,o.useState)(!1),f=x[0],p=x[1],m=(0,o.useState)(!1),b=m[0],g=m[1],j=(0,o.useState)(!1),Z=j[0],v=j[1],y=(0,s.Z)(),w=(0,d.r)().settings,C=(0,c.I0)(),S=(0,a.Z)(y.breakpoints.down("lg")),P=(0,c.v9)((function(e){return e.chat})),k=(0,a.Z)(y.breakpoints.up("sm"))?370:300,O=(0,a.Z)(y.breakpoints.up("md")),z=w.skin,R=w.appBar,I=w.footer,T=w.layout,D=w.navHidden,N={busy:"error",away:"warning",online:"success",offline:"secondary"};(0,o.useEffect)((function(){C((0,l.YI)()),C((0,l.Pu)())}),[C]);var M=function(){return p(!f)};return(0,n.jsxs)(i.Z,{className:"app-chat",sx:Pe({width:"100%",display:"flex",borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.paper",boxShadow:"bordered"===z?0:6,height:"calc(100vh - ".concat("(".concat(("hidden"===R?0:y.mixins.toolbar.minHeight)*("horizontal"!==T||D?1:2)+("hidden"===I?0:56),"px + ").concat(y.spacing(6)," * 2)"),")")},"bordered"===z&&{border:"1px solid ".concat(y.palette.divider)}),children:[(0,n.jsx)(Y,{store:P,hidden:S,mdAbove:O,dispatch:C,statusObj:N,userStatus:t,selectChat:l.Z1,getInitials:u.Q,sidebarWidth:k,setUserStatus:r,leftSidebarOpen:f,removeSelectedChat:l.sr,userProfileLeftOpen:b,formatDateToMonthShort:h.oS,handleLeftSidebarToggle:M,handleUserProfileLeftSidebarToggle:function(){return g(!b)}}),(0,n.jsx)(Ce,{store:P,hidden:S,sendMsg:l.g_,mdAbove:O,dispatch:C,statusObj:N,getInitials:u.Q,sidebarWidth:k,userProfileRightOpen:Z,handleLeftSidebarToggle:M,handleUserProfileRightSidebarToggle:function(){return v(!Z)}})]})}}},function(e){e.O(0,[8722,203,9774,2888,179],(function(){return t=42427,e(e.s=t);var t}));var t=e.O();_N_E=t}]);