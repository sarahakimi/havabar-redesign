(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8755],{31157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manifest/table",function(){return t(18043)}])},91453:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m},deleteUser:function(){return p},downloadDataFromServer:function(){return d},fetchData:function(){return f},fetchManifest:function(){return x},fetchNoManifest:function(){return h},registerUser:function(){return v}});var r=t(34051),a=t.n(r),o=t(85893),i=t(5370),s=t(63543);function c(e,n,t,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,a)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}var l={asc:1,desc:0},f=function(){var e=u(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.sort_by.split(" "))[1]=l[r[1]],e.next=4,i.Z.post(s.Z.manifestPage(n.page,Number(r.join(""))),t,{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),d=function(){var e=u(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post(s.Z.manifestReport,{},{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=u(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete(s.Z.singleManifest(n),{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=u(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get(s.Z.singleManifest(n),{},{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=u(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get(s.Z.noManifest,{},{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=u(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post(s.Z.addManifest,n,{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function m(){return(0,o.jsx)("div",{})}},18043:function(e,n,t){"use strict";t.r(n),t.d(n,{GridContainer:function(){return m}});var r=t(85893),a=t(67294),o=t(3512),i=t(1031),s=t(4718),c=t(50853),u=t(79172),l=t(15861),f=t(74931),d=t(11496),p=t(55113),x=t(91453);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}var m=(0,d.ZP)(p.Z)({flexGrow:1,".MuiDataGrid-root":{border:"none"},".MuiTablePagination-displayedRows":{display:"none"}});n.default=function(e){var n=e.setCustomer,t=e.customer,d=e.data,p=e.setData,g=(0,a.useState)({page:1,page_size:100,sort_by:"1 id asc",search:""}),w=g[0],b=g[1],y=(0,a.useState)(10),_=y[0],Z=y[1],j=(0,a.useState)(0),k=j[0],S=j[1];(0,a.useEffect)((function(){f.ZP.promise((0,x.fetchNoManifest)().then((function(e){null===e.data?p([]):p(e.data)})),{loading:"\u062f\u0631 \u062d\u0627\u0644 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0627\u0631\u0646\u0627\u0645\u0647 \u0647\u0627",success:"\u0628\u0627\u0631\u0646\u0627\u0645\u0647 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",error:function(e){var n,t,r,a;return(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)?null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a."}})}),[w]);var M=(0,o.s)().filter((function(e){var n=e.value;return["contains"].includes(n)})),C=[{flex:.1,field:"1",minWidth:50,headerName:"\u0634\u0645\u0627\u0631\u0647 \u0628\u0627\u0631\u0646\u0627\u0645\u0647",filterable:!1,hideable:!1,sortable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(l.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:n.generated_id})})}},{flex:.1,minWidth:50,field:"id",headerName:"\u0641\u0631\u0633\u062a\u0646\u062f\u0647",sortable:!1,filterOperators:M,hideable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,r.jsx)(l.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:n.sender_name})})})}},{flex:.1,minWidth:50,field:"2",headerName:" \u0645\u0628\u062f\u0627",sortable:!1,filterOperators:M,hideable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,r.jsx)(l.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:n.sender_city})})})}},{flex:.1,field:"4",minWidth:50,headerName:"\u06af\u06cc\u0631\u0646\u062f\u0647",filterOperators:M,hideable:!1,sortable:!1,renderCell:function(e){var n=e.row;return(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(l.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:n.receiver_name})})}},{flex:.1,minWidth:50,field:"3",headerName:"\u0645\u0642\u0635\u062f",sortable:!1,hideable:!1,filterOperators:M,renderCell:function(e){var n=e.row;return(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(u.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,r.jsx)(l.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:n.sender_city})})})}}],O=(0,a.useState)({}),P=O[0],T=O[1],I=(0,a.useCallback)((function(e){var n,t;(T(e),0!==Object.keys(e).length&&void 0!==(null===(n=e.items[0])||void 0===n?void 0:n.value))?b(v({},w,{search:h({},e.items[0].columnField.split(" ")[1],null===(t=e.items[0])||void 0===t?void 0:t.value)})):b(v({},w,{search:""}))}),[P,T]);return(0,r.jsx)(m,{sx:{p:4,m:1},children:(0,r.jsx)(i._,{autoHeight:!0,pagination:!0,rows:d,columns:C,pageSize:_,disableSelectionOnClick:!0,rowsPerPageOptions:[100],sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onSelectionModelChange:function(e){n(e)},paginationMode:"server",onPageSizeChange:function(e){Z(e),b(v({},w,{page_size:e}))},localeText:s.T.components.MuiDataGrid.defaultProps.localeText,checkboxSelection:!0,selectionModel:t,sortingMode:"server",onSortModelChange:function(e){var n,t,r=0!==e.length?"".concat(null===(n=e[0])||void 0===n?void 0:n.field," ").concat(null===(t=e[0])||void 0===t?void 0:t.sort):"1 id asc";b(v({},w,{sort_by:"".concat(r)}))},onPageChange:function(e){S(e),b(v({},w,{page:e+1}))},page:k,rowCount:50,onFilterModelChange:I,components:{Toolbar:c.M}})})}}},function(e){e.O(0,[778,3116,9774,2888,179],(function(){return n=31157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);