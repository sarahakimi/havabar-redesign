(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9051],{83806:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newOrder/table",function(){return n(49775)}])},63543:function(e,r){"use strict";r.Z={getCompaniesFromSuperAdminPageEndpoint:"company/all/admin",singleCompany:function(e){return"company/".concat(e)},registerEndpoint:"auth/user/login",storageTokenKeyName:"access_Token",registerCompany:"company/register",getusers:"user/admin/all?type=1",singleUser:function(e){return"user/admin/".concat(e)},registerUser:"user/admin/register",getCustomers:"customer/admin/3/all",singleCustomer:function(e){return"customer/admin/".concat(e)},registerCustomer:"customer/admin/3/register",getMarketers:"customer/admin/2/all",singleMarketer:function(e){return"customer/admin/".concat(e)},registerMarketer:"customer/admin/2/register",getRepresentatives:"customer/admin/1/all",singleRepresentatives:function(e){return"customer/admin/".concat(e)},registerRepresentatives:"customer/admin/1/register",createOrder:"ordering/admin/register",getAdminOrders:"ordering/admin/all",singleHub:function(e){return"hub/".concat(e)},registerHub:"hub/register",getHubsFromAdmin:"hub/company/all",myHub:"hub/me",getDrivers:"user/admin/all?type=2",registerDriver:"user/admin/courier/register",pricingPerKilometer:"pricing/per_kilometer",pricinPerSizeOfCar:function(e){return"pricing/size_of_car/".concat(e)},pricingOtherOptions:"pricing/other_options",getPricingSizeOfCar:"pricing/size_of_car",singleOrder:function(e){return"ordering/admin/".concat(e)}}},35414:function(e,r,n){"use strict";n.r(r),n.d(r,{createOrder:function(){return u},default:function(){return f},fetchData:function(){return d}});var t=n(34051),i=n.n(t),a=n(85893),o=n(5370),c=n(63543);function s(e,r,n,t,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void n(l)}c.done?r(s):Promise.resolve(s).then(t,i)}function l(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var a=e.apply(r,n);function o(e){s(a,t,i,o,c,"next",e)}function c(e){s(a,t,i,o,c,"throw",e)}o(void 0)}))}}var u=function(){var e=l(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post(c.Z.createOrder,r,{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=l(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get(c.Z.getCustomers,r,{Authorization:"Bearer ".concat(window.localStorage.getItem("access_Token"))});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function f(){return(0,a.jsx)("div",{})}},49775:function(e,r,n){"use strict";n.r(r),n.d(r,{GridContainer:function(){return y}});var t=n(85893),i=n(67294),a=n(3512),o=n(86117),c=n(4718),s=n(50853),l=n(79172),u=n(15861),d=n(74931),f=n(11496),m=n(55113),p=n(35414);function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function h(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function x(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){h(e,r,n[r])}))}return e}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return g(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=(0,f.ZP)(m.Z)({flexGrow:1,".MuiDataGrid-root":{border:"none"},".MuiTablePagination-displayedRows":{display:"none"}});r.default=function(e){var r=e.setCustomer,n=(0,i.useState)({page:1,page_size:10,sort_by:"id desc",serach:""}),f=n[0],m=n[1],g=(0,i.useState)(10),h=g[0],b=g[1],w=(0,i.useState)(0),O=w[0],_=w[1],C=(0,i.useState)([]),j=C[0],S=C[1],Z=(0,i.useState)([]),P=Z[0],k=Z[1];(0,i.useEffect)((function(){d.ZP.promise((0,p.fetchData)(f).then((function(e){null===e.data?S([]):S(e.data)})),{loading:"\u062f\u0631 \u062d\u0627\u0644 \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u0634\u062a\u0631\u06cc\u0627\u0646",success:"\u0645\u0634\u062a\u0631\u06cc \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",error:function(e){var r,n,t,i;return(null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)?null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a."}}),r.apply(void 0,v(j.filter((function(e){return e.id===P[0]}))))}),[f,P]);var A=(0,a.s)().filter((function(e){var r=e.value;return["contains"].includes(r)})),T=[{flex:.1,minWidth:150,field:"name",filterOperators:A,headerName:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",align:"center",headerAlign:"center",hideable:!1,renderCell:function(e){var r=e.row;return(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,t.jsx)(u.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:r.name})})})}},{flex:.1,minWidth:150,field:"username",filterOperators:A,align:"center",headerAlign:"center",headerName:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",hideable:!1,renderCell:function(e){var r=e.row;return(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:(0,t.jsx)(u.Z,{noWrap:!0,component:"a",variant:"subtitle2",sx:{color:"text.primary",textDecoration:"none"},children:r.username})})})}},{flex:.15,field:"natural_code",minWidth:150,filterOperators:A,headerName:"\u06a9\u062f\u0645\u0644\u06cc",align:"center",headerAlign:"center",hideable:!1,renderCell:function(e){var r=e.row;return(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(u.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:r.natural_code})})}},{flex:.1,field:"phone",minWidth:150,filterOperators:A,headerName:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646",align:"center",headerAlign:"center",hideable:!1,renderCell:function(e){var r=e.row;return(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(u.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:r.natural_code})})}},{flex:.1,field:"postal_code",minWidth:150,filterOperators:A,headerName:"\u06a9\u062f\u067e\u0633\u062a\u06cc",align:"center",headerAlign:"center",hideable:!1,renderCell:function(e){var r=e.row;return(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(u.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:r.postal_code})})}},{flex:.1,field:"city",minWidth:150,filterOperators:A,headerName:"\u0634\u0647\u0631",align:"center",headerAlign:"center",hideable:!1,renderCell:function(e){var r=e.row;return(0,t.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,t.jsx)(u.Z,{noWrap:!0,sx:{color:"text.secondary",textTransform:"capitalize"},children:r.city})})}}],M=(0,i.useState)({}),z=M[0],I=M[1],D=(0,i.useCallback)((function(e){var r,n;(I(e),0!==Object.keys(e).length&&void 0!==(null===(r=e.items[0])||void 0===r?void 0:r.value))?m(x({},f,{search:"".concat(e.items[0].columnField,"|").concat(null===(n=e.items[0])||void 0===n?void 0:n.value)})):m(x({},f,{search:""}))}),[z,I]);return(0,t.jsx)(y,{sx:{p:4,m:1},children:(0,t.jsx)(o._,{autoHeight:!0,pagination:!0,rows:j,columns:T,pageSize:h,disableSelectionOnClick:!0,rowsPerPageOptions:[10,25,50],sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onSelectionModelChange:function(e){k((function(r){return e.filter((function(e){return!r.includes(e)}))}))},paginationMode:"server",onPageSizeChange:function(e){console.log(e),b(e),m(x({},f,{page_size:e}))},localeText:c.T.components.MuiDataGrid.defaultProps.localeText,checkboxSelection:!0,selectionModel:P,sortingMode:"server",onSortModelChange:function(e){var r,n,t=0!==e.length?"".concat(null===(r=e[0])||void 0===r?void 0:r.field," ").concat(null===(n=e[0])||void 0===n?void 0:n.sort):"id desc";m(x({},f,{sort_by:"".concat(t)}))},onPageChange:function(e){_(e),m(x({},f,{page:e+1}))},page:O,rowCount:50,onFilterModelChange:D,components:{Toolbar:s.M}})})}}},function(e){e.O(0,[3438,9774,2888,179],(function(){return r=83806,e(e.s=r);var r}));var r=e.O();_N_E=r}]);